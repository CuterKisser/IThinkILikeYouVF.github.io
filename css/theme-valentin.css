:root {
  --bg:#b32b5f;
  --text:#ffeef4;
  --c-blue:#ffc2da;
  --c-pink:#ff1a67;
  --c-violet:#ffa1c9;
  --glow-blue-soft:0 0 8px rgba(255,107,165,.35);
  --line-soft:rgba(255,255,255,.15);
  --shadow:0 8px 22px rgba(0,0,0,.25);
  --card-radius:0px;
  --grid-cols:7;
  --title-shift:5s;
  --title-flicker:10s;
  --blink-duration:.16s;
  --blink-episode-count:2;
  --epbtn-blink-duration:.65s;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:'Quicksand',sans-serif;
  color:var(--text);
  overflow-x:hidden;
  background:
    radial-gradient(1200px 600px at 20% -8%,rgba(255,170,200,.18),transparent 55%),
    radial-gradient(900px 500px at 90% 0%,rgba(255,110,150,.10),transparent 60%),
    var(--bg);
  position:relative;
  min-height:100vh;
}

body::before,
body::after{
  content:"";
  position:fixed;
  inset:-25% -25% -25% -25%;
  pointer-events:none;
  z-index:0;
  filter:blur(80px);
}

body::before{
  background:
    radial-gradient(circle at 20% 20%,rgba(255,255,255,.08) 0%,transparent 60%),
    radial-gradient(circle at 80% 40%,rgba(255,255,255,.06) 0%,transparent 62%),
    radial-gradient(circle at 60% 80%,rgba(255,255,255,.05) 0%,transparent 65%);
  opacity:.45;
  animation:heartDrift 60s linear infinite;
}

body::after{
  background:
    radial-gradient(600px 400px at 25% 30%,rgba(255,110,150,.12) 0%,transparent 70%),
    radial-gradient(700px 450px at 70% 55%,rgba(255,180,200,.12) 0%,transparent 72%),
    radial-gradient(500px 350px at 55% 80%,rgba(255,130,170,.08) 0%,transparent 75%);
  opacity:.32;
  mix-blend-mode:screen;
  animation:heartDriftAlt 70s ease-in-out infinite;
}

@keyframes heartDrift{
  0%{transform:translate3d(0,0,0) scale(1)}
  25%{transform:translate3d(-1%, -2%,0) scale(1.04)}
  50%{transform:translate3d(1.5%,1.5%,0) scale(1.07)}
  75%{transform:translate3d(-1%,2%,0) scale(1.03)}
  100%{transform:translate3d(0,0,0) scale(1)}
}
@keyframes heartDriftAlt{
  0%{transform:translate3d(0,0,0) scale(1);opacity:.3}
  33%{transform:translate3d(2%, -1.5%,0) scale(1.06);opacity:.35}
  66%{transform:translate3d(-1.5%,2%,0) scale(1.08);opacity:.28}
  100%{transform:translate3d(0,0,0) scale(1);opacity:.3}
}

a{text-decoration:none;color:inherit}

header{
  position:sticky;top:0;z-index:10;
  background:rgba(0,0,0,.6);
  backdrop-filter:blur(10px);
  border-bottom:1px solid var(--line-soft);
  box-shadow:var(--shadow);
}
.header-inner{
  max-width:1100px;
  margin:0 auto;
  padding:12px 20px 8px;
  display:grid;
  grid-template-columns:1fr auto;
  grid-template-rows:auto auto;
  gap:6px 12px;
  align-items:center;
}

.brand h1{
  margin:0;
  font-size:clamp(22px,3.2vw,36px);
  font-weight:700;
  letter-spacing:.5px;
  background:linear-gradient(90deg,var(--c-blue),var(--c-pink),var(--c-violet),var(--c-blue));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-size:220% 100%;
  animation:titleShift var(--title-shift) ease-in-out infinite alternate,
             neonFlicker var(--title-flicker) steps(1,end) infinite;
  text-shadow:0 0 12px rgba(255,80,140,.4),0 0 20px rgba(255,200,220,.3);
}

@keyframes titleShift{0%{background-position:0% 50%}100%{background-position:100% 50%}}
@keyframes neonFlicker{
  0%,96%{opacity:1}
  96.5%{opacity:.5}
  97%{opacity:1}
  97.5%{opacity:.3}
  98%{opacity:1}
  99%{opacity:.6}
  100%{opacity:1}
}

nav{grid-column:2/3;grid-row:1/2;justify-self:end}
nav a{position:relative;margin-left:14px;padding:6px 2px;font-weight:600}
nav a::after{
  content:"";
  position:absolute;
  left:0;right:0;bottom:-2px;height:2px;
  background:linear-gradient(90deg,var(--c-blue),var(--c-blue));
  opacity:.85;
  box-shadow:0 0 8px rgba(255,107,165,.4);
  transition:background .3s,box-shadow .3s,opacity .3s;
}
nav a:hover::after{
  background:linear-gradient(90deg,var(--c-pink),var(--c-pink));
  box-shadow:0 0 10px rgba(255,140,180,.45);
  opacity:1;
}

.subnote{
  grid-column:2/3;grid-row:2/3;justify-self:end;
  color:#ffeaf2;font-weight:400;opacity:.95;font-size:.95rem;
}
.subnote a{color:var(--c-blue);text-shadow:0 0 6px rgba(255,107,165,.35);transition:color .3s,text-shadow .3s}
.subnote a:hover{color:var(--c-pink);text-shadow:0 0 10px rgba(255,160,200,.45)}

main{max-width:1100px;margin:12px auto 40px;padding:0 20px;position:relative;z-index:1}

.season{
  margin:18px 0;
  border:1px solid rgba(255,130,170,.35);
  border-radius:10px;
  background:rgba(50,0,30,.35);
  overflow:hidden;
}
.season.open{background:rgba(0,0,0,.3);box-shadow:0 4px 18px rgba(0,0,0,.35)}

.season-header{
  display:flex;align-items:center;justify-content:space-between;
  padding:10px 12px;cursor:pointer;font-weight:800;color:var(--text);
}
.season-body{
  overflow:hidden;max-height:0;opacity:0;
  transition:max-height .45s ease,opacity .35s ease,padding .25s ease;
  padding:0 10px 0;
}
.season.open .season-body{max-height:2000px;opacity:1;padding:10px 10px 12px}

.episodes-grid{display:grid;gap:12px;grid-template-columns:repeat(var(--grid-cols),1fr)}
@media(max-width:992px){.episodes-grid{grid-template-columns:repeat(4,1fr)}}
@media(max-width:520px){.episodes-grid{grid-template-columns:repeat(2,1fr)}}

.episode-card{
  background:rgba(0,0,0,.18);
  border:1px solid rgba(255,150,180,.35);
  border-radius:var(--card-radius);
  overflow:hidden;cursor:pointer;position:relative;
  box-shadow:var(--glow-blue-soft);
  transition:transform .22s ease,box-shadow .22s ease,border-color .22s ease;
}
.episode-card:hover{
  transform:translateY(-3px);
  animation:borderBlink var(--blink-duration) ease-in-out var(--blink-episode-count);
  border-color:var(--c-pink);
  box-shadow:0 0 10px rgba(255,120,170,.3);
}
.episode-card.active{border-color:var(--c-pink)!important;box-shadow:0 0 12px rgba(255,120,170,.4)}

@keyframes borderBlink{
  0%{border-color:var(--c-blue)}
  50%{border-color:var(--c-pink)}
  100%{border-color:var(--c-blue)}
}

.ep-number,
.episode-title,
.episode-card,
.season-header,
.loading,
.error-msg,
.ep-btn{font-family:'Quicksand',sans-serif}

.ep-number{
  position:absolute;top:6px;left:8px;font-weight:800;font-size:.88rem;letter-spacing:.3px;
  color:#fff;text-shadow:0 0 6px rgba(0,0,0,.6);pointer-events:none;z-index:3;
}

.episode-img{width:100%;height:132px;object-fit:cover;background:rgba(0,0,0,.15);display:block;border-radius:0}
.episode-title{padding:7px 9px;font-weight:600;font-size:.86rem;text-align:center;color:#fff;text-shadow:0 0 3px rgba(0,0,0,.25)}

#viewer{margin-top:24px;text-align:center;opacity:0;transform:translateY(10px);transition:.4s ease}
#viewer.show{opacity:1;transform:translateY(0)}
#viewer img{max-width:100%;border-radius:12px;margin-bottom:16px;opacity:0;animation:fadeIn .6s ease forwards}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

.loading,.error-msg{
  font-weight:700;margin:10px 0 18px;font-size:1rem;
  background:linear-gradient(90deg,var(--c-blue),var(--c-pink),var(--c-blue));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background-size:200% 100%;animation:flow 1.4s linear infinite;
}
.error-msg{animation:flow 2s linear infinite}
@keyframes flow{0%{background-position:0% 50%}100%{background-position:100% 50%}}

.ep-nav{display:flex;gap:12px;justify-content:center;align-items:center;margin:10px 0 26px}
.ep-btn{
  font-weight:700;border:2px solid var(--c-blue);background:transparent;
  color:var(--text);padding:9px 14px;border-radius:12px;cursor:pointer;transition:.2s ease;
}
.ep-btn:hover{border-color:var(--c-pink);box-shadow:0 0 10px var(--c-pink);color:var(--c-pink)}
.ep-btn[disabled]{border-color:rgba(255,255,255,.28)!important;color:rgba(255,255,255,.65);box-shadow:none!important;opacity:.7;cursor:not-allowed;pointer-events:none}

footer{
  border-top:1px solid var(--line-soft);
  background:rgba(0,0,0,.3);
  backdrop-filter:blur(3px);
  text-align:center;color:#fff;padding:22px 16px;font-size:.92rem;
}
