<!DOCTYPE html>
<html lang="fr">
<head>
  <!-- Google Tag / Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-95DP4EBMR0"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-95DP4EBMR0');
  </script>
  <!-- Google Tag Manager -->
  <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
      var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';
      j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
      f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MDQGCWG5');
  </script>
  <!-- End Google Tag Manager -->

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>I Think I Like You - VF</title>
  <meta name="title" content="I Think I Like You (Syd + Heru) - VF">
  <meta name="description" content="I Think I Like You - Webcomic BL par Heru et Syd traduit en franÃ§ais. I Think I Like You FR">
  <meta name="keywords" content="i think i like you episode fr, i think i like you vf, I Think I Like You VF, i think i like you fr, I Think I Like You FR, webcomic, BL, boys love, yaoi, traduction franÃ§aise, Heru, Syd, I Think I Like You">
  <meta name="author" content="Heru & Syd, Traduction FR par CuterKisser">
  <meta name="google-site-verification" content="r8WwzCJ1IK4AJeM-JY1COXEmgxegjNtrpcnseBy4C-Y" />
  <meta property="og:title" content="I Think I Like You - VF">
  <meta property="og:site_name" content="I Think I Like You VF">
  <meta property="og:description" content="I Think I Like You - Webcomic BL par Heru et Syd traduit en franÃ§ais. I Think I Like You FR">
  <meta property="og:image" content="favsky.svg">
  <meta property="og:url" content="https://ithinkilikeyou.fr">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="I Think I Like You - FR">
  <meta name="twitter:description" content="I Think I Like You - Webcomic BL par Heru et Syd traduit en franÃ§ais. I Think I Like You FR">
  <meta name="twitter:image" content="favsky.svg">
  <link rel="canonical" href="https://ithinkilikeyou.fr">

  <!-- Favicon / Apple icons -->
  <link rel="icon" href="favsky.svg" type="image/svg+xml">
  <link rel="icon" sizes="16x16" href="favsky-16x16.png">
  <link rel="icon" sizes="32x32" href="favsky-32x32.png">
  <link rel="icon" sizes="48x48" href="favsky-48x48.png">
  <link rel="icon" sizes="64x64" href="favsky-64x64.png">
  <link rel="icon" sizes="96x96" href="favsky-96x96.png">
  <link rel="icon" sizes="128x128" href="favsky-128x128.png">
  <link rel="icon" sizes="256x256" href="favsky-256x256.png">
  <link rel="apple-touch-icon" sizes="180x180" href="favsky-180x180.png">

  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- CSS global -->
  <link rel="stylesheet" href="css/base.css" />

  <!-- ðŸŽƒ ThÃ¨me actif -->
  <link rel="stylesheet" href="css/theme-halloween.css" />
</head>

<!-- "neon" / "halloween" / "noel" / "hiver" / "valentin" / "arcade" -->
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MDQGCWG5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <div style="display:none;">i think i like you vf i think i like you fr</div>

  <header>
    <div class="header-inner">
      <div class="brand"><h1>I Think I Like You - VF</h1></div>
      <nav>
        <a href="https://ithinkilikeyou.net" target="_blank">Site Officiel</a>
        <a href="https://www.patreon.com/IThinkILikeYou" target="_blank">Patreon</a>
        <a href="https://ithinkilikeyou.store" target="_blank">Boutique</a>
      </nav>
      <div class="subnote">
        Traduction VF par CuterKisser â€” <a href="https://discord.gg/m5VGdPG9Gs" target="_blank">Discord</a> & <a href="https://www.twitch.tv/cuterkisser" target="_blank">Twitch</a>.
      </div>
    </div>
  </header>

  <main id="main-content">
    <section id="seasons-root"></section>
    <section id="viewer" class="viewer"></section>
  </main>

  <footer><small>Â© 2025 I Think I Like You VF â€” CuterKisser. Tous droits rÃ©servÃ©s.</small></footer>

  <script src="episodeshd.js"></script>

  <script>
    const headerEl=document.querySelector('header');
    const seasonsRoot=document.getElementById('seasons-root');
    const viewer=document.getElementById('viewer');

    const seasons=[];let bucket=[];
    const isSeasonMarker=ep=>ep&&ep.disabled&&typeof ep.text==='string'&&ep.text.toLowerCase().includes('saison');
    const cleanTitle=t=>t.replace(/[/\\]/g,'').trim();
    for(const ep of episodes){ if(isSeasonMarker(ep)){ seasons.push({title:cleanTitle(ep.text),episodes:bucket}); bucket=[]; } else bucket.push(ep); }
    if(bucket.length)seasons.push({title:'Autres',episodes:bucket});
    const seasonsOrdered=seasons.filter(s=>(s.episodes||[]).some(e=>e&&e.url));

    const flatEpisodes=[],seasonNodes=[],polaroidMap={};

    function createSeason(title,eps){
      const wrap=document.createElement('section'); wrap.className='season';
      const header=document.createElement('div'); header.className='season-header'; header.textContent=title;
      const body=document.createElement('div'); body.className='season-body';
      const grid=document.createElement('div'); grid.className='episodes-grid'; body.appendChild(grid);

      eps.forEach(ep=>{
        if(!ep||!ep.url) return;
        const val=ep.value||''; const num=(val.match(/(\d+)/)||[])[1]||'';

        if(/polaroid/i.test(val)||/polaroid/i.test(ep.text)||/polaroid/i.test(ep.url)){
          if(num) polaroidMap[num]=ep;
          return;
        }

        flatEpisodes.push(ep);

        const card=document.createElement('button'); card.className='episode-card'; card.setAttribute('data-ep', ep.value);
        const number=document.createElement('div'); number.className='ep-number'; number.textContent=num;
        const img=document.createElement('img'); img.className='episode-img'; img.src=ep.preview||'favsky-96x96.png';
        img.onerror=()=>{ img.src='favsky-96x96.png'; img.style.objectFit='contain'; img.style.padding='24px'; img.style.background='transparent'; };
        const titleDiv=document.createElement('div'); titleDiv.className='episode-title'; titleDiv.textContent=ep.text;

        card.appendChild(number);
        card.appendChild(img);
        card.appendChild(titleDiv);
        grid.appendChild(card);
      });

      header.onclick=()=>wrap.classList.toggle('open');
      wrap.appendChild(header); wrap.appendChild(body);
      return {wrap,grid,header,episodes:eps};
    }

    seasonsOrdered.forEach(season=>{
      const {wrap,grid,header,episodes}=createSeason(season.title,season.episodes);
      seasonsRoot.appendChild(wrap); seasonNodes.push({wrap,header,title:season.title,episodes});
    });

    const maxSeason=seasonNodes.reduce((a,s)=>{ const n=parseInt((s.title.match(/\d+/)||[-Infinity])[0]); return (n>a.n)?{n,node:s}:a; }, {n:-Infinity,node:null});
    seasonNodes.forEach(s=>s.wrap.classList.remove('open'));
    if(maxSeason.node) maxSeason.node.wrap.classList.add('open'); else if(seasonNodes[0]) seasonNodes[0].wrap.classList.add('open');

    let currentIndex=-1,lastActiveCard=null;
    function setActiveByIndex(index){
      if(lastActiveCard) lastActiveCard.classList.remove('active');
      const ep=flatEpisodes[index]; if(!ep) return;
      const card=seasonsRoot.querySelector(`.episode-card[data-ep="${CSS.escape(ep.value)}"]`);
      if(card){ card.classList.add('active'); lastActiveCard=card; }
    }

    function scrollViewerToTop(){
      const h=headerEl?.offsetHeight||0;
      window.scrollTo({ top: viewer.getBoundingClientRect().top + window.scrollY - (h+6), behavior:'smooth' });
    }

    function showEpisodeByIndex(index){
      if(index<0||index>=flatEpisodes.length) return;
      const ep=flatEpisodes[index]; currentIndex=index; setActiveByIndex(index);

      viewer.innerHTML='';
      const loading=document.createElement('div'); loading.className='loading';
      loading.textContent='Veuillez patienter le temps du chargementâ€¦'; viewer.appendChild(loading);

      const epNum=(ep.value.match(/(\d+)/)||[])[1];
      let urls=[];
      if(epNum && polaroidMap[epNum]) urls.push(polaroidMap[epNum].url);
      if(ep.multi) urls=urls.concat(ep.url); else urls.push(ep.url);

      let loaded=0,failed=0;
      urls.forEach(src=>{ const im=new Image(); im.onload=onDone; im.onerror=()=>{failed++;onDone();}; im.src=src; });

      function onDone(){
        loaded++;
        if(loaded===urls.length){
          viewer.innerHTML='';
          if(failed===urls.length){
            const err=document.createElement('div'); err.className='error-msg'; err.textContent='Ã‰pisode non disponible'; viewer.appendChild(err);
          }else{
            urls.forEach((src,i)=>{ const tag=document.createElement('img'); tag.src=src; tag.style.animationDelay=`${i*0.3}s`; tag.onerror=()=>tag.remove(); viewer.appendChild(tag); });
          }
          renderNav(); viewer.classList.add('show'); scrollViewerToTop();
        }
      }
    }

    function renderNav(){
      const nav=document.createElement('div'); nav.className='ep-nav';
      const prev=document.createElement('button'); prev.className='ep-btn'; prev.textContent='â—€ Ã‰pisode prÃ©cÃ©dent';
      prev.disabled=(currentIndex>=flatEpisodes.length-1); prev.onclick=()=>showEpisodeByIndex(currentIndex+1);
      const next=document.createElement('button'); next.className='ep-btn'; next.textContent='Ã‰pisode suivant â–¶';
      next.disabled=(currentIndex<=0); next.onclick=()=>showEpisodeByIndex(currentIndex-1);
      nav.appendChild(prev); nav.appendChild(next); viewer.appendChild(nav);
    }

    seasonsRoot.addEventListener('click',e=>{
      const card=e.target.closest('.episode-card'); if(!card) return;
      const val=card.getAttribute('data-ep'); const idx=flatEpisodes.findIndex(ep=>ep.value===val);
      if(idx!==-1) showEpisodeByIndex(idx);
    });

    function getRequestedEpisodeNumber(){
      const q=location.search, h=location.hash, p=location.pathname;
      const m1=q.match(/[?&](?:ep|episode)=(\d{1,4})/i); if(m1) return m1[1];
      const m2=h.match(/(\d{1,4})/); if(m2) return m2[1];
      const m3=p.match(/polaroid(\d{1,4})/i); if(m3) return m3[1];
      const m4=p.match(/(\d{1,4})(?!.*\d)/); if(m4) return m4[1];
      const m5=String(location.href).match(/(\d{1,4})(?!.*\d)/); return m5?m5[1]:null;
    }
    function findIndexByEpisodeNumber(numStr){
      const num=String(numStr);
      return flatEpisodes.findIndex(ep=>{
        const val=ep.value||'', txt=ep.text||'';
        return new RegExp(`(^|\\D)${num}(?=\\D|$)`).test(val)||new RegExp(`(^|\\D)${num}(?=\\D|$)`).test(txt);
      });
    }

    window.addEventListener('load',()=>{
      const requested=getRequestedEpisodeNumber();
      if(requested){
        const idx=findIndexByEpisodeNumber(requested);
        if(idx!==-1){ showEpisodeByIndex(idx); return; }
      }
      const eps=flatEpisodes; if(!eps.length) return;
      const idx=eps.length-1; showEpisodeByIndex(idx);
    });
    document.addEventListener('contextmenu', e => e.preventDefault());
  </script>
</body>
</html>
